<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Countainer Challenge</title>
</head>

<body>
    <script>
        lgContainer = 10;
        smContainer = 6;
        targetNumber = 5;

        lgNumb = lgContainer;
        smNumb = smContainer;

        lgRemainder = 0;
        smRemainder = 0;

        lgHolder = 0;
        smHolder = 0;

        stepCounter = 0;
        stepCounter01 = 0;
        stepCounter02 = 0;
        stepCounter03 = 0;

        modNumb = lgContainer % smContainer;
        range = lgContainer - smContainer;

        gcdArray = [];

        solved = function () {
            console.log("======================================================");
            console.log("The value of smHolder is: " + smHolder + ".");
            console.log("The value of lgHolder is: " + lgHolder + ".");
            console.log("The number of steps to solve is " + stepCounter03 + ".");
            console.log("We gotta winner!");
        };

        start = function () {
            if (smHolder != targetNumber && lgHolder != targetNumber) {
                fillLarge();
            } else {
                console.log("smHolder: " + smHolder + " || lgHolder: " + lgHolder);
                valueChecker();
            };
            stepCounter++
        };

        error = function () {

            console.log("error");
        };

        preCheck = function () {
            if (modNumb == 0 && lgContainer % targetNumber != 0) {
                // for (i = smContainer; i <= range; i++) {
                //     if (i == targetNumber){
                //         gcdArray.push(i);
                //         console.log ("range: " + range);
                //         console.log ("i: " + i);
                //         console.log ("array: " + gcdArray);
                //         start();
                //     } else {
                //         error();
                //     };
                // };
                for (i = smContainer; i <= range; i++) {
                        gcdArray.push(i);
                        console.log ("range: " + range);
                        console.log ("i: " + i);
                        console.log ("array: " + gcdArray);
                    if (i == targetNumber){
                        console.log("i contains targetNumber" + i);
                        start();
                    } else {
                        error();
                    };
                };                
            } else {
                start();
            };
        };

        smallRemainder = function () {
            lgHolder = 0;
            smRemainder;
            console.log("function called - smallRemainder: " + smRemainder);
            stepCounter++
            fillLarge();
        };
        largeRemainder = function () {
            smHolder = 0;
            lgRemainder;
            console.log("function called - lgRemainder: " + lgRemainder);
            stepCounter++
            fillSmall();
        };

        //****************************************
        fillLarge = function () {
            lgHolder = smRemainder;
            smRemainder = 0;
            console.log("lgHolder = smRemainder (B4 while loop): " + lgHolder);
            while (lgHolder <= lgContainer && lgHolder != targetNumber) {

                console.log("lgHolder (before lgHolder + smContainer): --->" + lgHolder);
                lgHolder = lgHolder + smContainer; // simulates small container poured into large container until full (any exess will be assigned as new smRemainder and then assigned to new lgHolder size)
                console.log("lgHolder (in while loop): " + lgHolder);

                stepCounter++;
                stepCounter02++;
                stepCounter03++;
                // valueChecker();
            };

            if (lgHolder > lgContainer && lgHolder != targetNumber) {
                smRemainder = lgHolder - lgContainer;
                stepCounter03++;
                valueChecker();

            } else if (lgHolder == targetNumber || smHolder == targetNumber) {
                valueChecker();
            };
        };

        fillSmall = function () {
            smHolder = lgRemainder;
            lgRemainder = 0;
            console.log("smHolder = lgRemainder (B4 while loop): " + smHolder);
            while (smHolder <= smContainer && smHolder != targetNumber) {

                console.log("smHolder (before smHolder + lgContainer): --->" + smHolder);
                smHolder = smHolder + lgContainer; // simulates lgall container poured into large container until full (any exess will be assigned as new lgRemainder and then assigned to new smHolder size)
                console.log("smHolder (in while loop): " + smHolder);

                stepCounter++;
                stepCounter02++;
                stepCounter03++;
                valueChecker();
            };

            if (smHolder > smContainer && smHolder != targetNumber) {
                lgRemainder = smHolder - smContainer;
                stepCounter03++;
                valueChecker();

            } else if (smHolder == targetNumber || lgHolder == targetNumber) {
                valueChecker();
            };
        };

        valueChecker = function () {
            if (smRemainder != 0) {
                console.log("smRemainder (in valueChecker()): " + smRemainder);
                smallRemainder();

            } else if (lgRemainder != 0) {
                console.log("lgRemainder (in valueChecker()): " + lgRemainder);
                largeRemainder();

            } else if (lgHolder == targetNumber || smHolder == targetNumber) {
                solved();

            } else {
                console.log("try again");
            }
            stepCounter++
        };
        preCheck(); // ########### [1]
        // start(); // ########### [2]
        //****************************************

        dumpLarge = function () {

        };
        dumpSmall = function () {

        };
    </script>
</body>

</html>